/*!
 * FAUCETPROFIT PRO v2.4.1
 * 23x Automatic Betting System
 * Copyright © 2025 FaucetProfit. All rights reserved.
 * Commercial license required. Unauthorized distribution is prohibited.
 */

// ===================== VISUAL IDENTITY =====================
if (isFirstBet) {
  console.log(`
███████╗ █████╗ ██╗  ██╗ ██████╗███████╗████████╗██████╗ ██████╗  ██████╗ ███████╗██╗████████╗
██╔════╝██╔══██╗██║  ██║██╔════╝██╔════╝╚══██╔══╝██╔══██╗██╔══██╗██╔═══██╗██╔════╝██║╚══██╔══╝
█████╗  ███████║██║  ██║██║    █████╗    ██║   ██████╔╝██████╔╝██║  ██║█████╗  ██║  ██║
██╔══╝  ██╔══██║██║  ██║██║    ██╔══╝    ██║   ██╔═══╝ ██╔══██╗██║  ██║██╔══╝  ██║  ██║
██║  ██║  ██║╚██████╔╝╚██████╗███████╗    ██║   ██║    ██║  ██║╚██████╔╝██║    ██║  ██║
╚═╝  ╚═╝  ╚═╝ ╚═════╝  ╚═════╝╚══════╝    ╚═╝   ╚═╝    ╚═╝  ╚═╝ ╚═════╝ ╚═╝    ╚═╝  ╚═╝
`);
}

// ==================== USER CONFIGURATION ====================
const USER_SETTINGS = {
  bank: 0.07346147,
  stopGain: 0.0002
};

if (isFirstBet) {
  if (!USER_SETTINGS.bank || USER_SETTINGS.bank <= 0) {
    console.log("🚫 ERROR: You need to define a valid value for 'bank' in USER_SETTINGS!");
    stop();
    throw new Error("Invalid bankroll. Please correct USER_SETTINGS.bank.");
  }

  globals.maxLosses = 200;
  globals.targetProfit = USER_SETTINGS.stopGain;
  globals.betType = "high";
  globals.fixedChance = 4.13; // CHANCE FIXA CORRIGIDA: Valor exato fornecido pela plataforma (para um multiplicador de ~24.21x)

  const TOTAL_SEQUENCE_FACTOR_SUM = 5471.9300603504116; 
  globals.baseBet = USER_SETTINGS.bank / TOTAL_SEQUENCE_FACTOR_SUM;

  const MINIMUM_BET = 0.00000007;
  if (globals.baseBet < MINIMUM_BET) {
    console.log(`🚫 ERROR: Your initial bet (${globals.baseBet.toFixed(8)} LTC) is below the minimum allowed (${MINIMUM_BET.toFixed(8)} LTC).`);
    console.log("💡 Tip: Increase your bankroll value in USER_SETTINGS, or decrease globals.maxLosses.");
    stop();
    throw new Error("Initial bet too low.");
  }

  console.log(`📊 Bank: ${USER_SETTINGS.bank} LTC | 🎯 Base Bet: ${globals.baseBet.toFixed(8)} LTC`);

  globals.multiplierSequence = [1, 0.05369, 0.0565780561, 0.05962002347, 0.06281358988, 0.06616788574, 0.06969248473, 0.07339722368, 0.07729221162, 0.08138803157, 0.08570560641, 0.09025624734, 0.09505175966, 0.10010427181, 0.10542615467, 0.11103004079, 0.11692888636, 0.12313622268, 0.12966606041, 0.13653303649, 0.14375225012, 0.1513391942, 0.15930960012, 0.16767936173, 0.17646445582, 0.18568199708, 0.19534947938, 0.20548545802, 0.2161095034, 0.22724213192, 0.23890520697, 0.25112102148, 0.26391295248, 0.27730449419, 0.29131934336, 0.30598177579, 0.32131649989, 0.33734898744, 0.35410526019, 0.37161108252, 0.38989501579, 0.40898687799, 0.42891787687, 0.44971935292, 0.47142385601, 0.49406411516, 0.51767399583, 0.54228867375, 0.56794474728, 0.59468007997, 0.62253304595, 0.6515430041, 0.68175051833, 0.71320739932, 0.74596666114, 0.78008272991, 0.81561001157, 0.8526040854, 0.89112130761, 0.93122047805, 0.97296238627, 1.01640899015, 1.06160913982, 1.10861460395, 1.15747803623, 1.20825313936, 1.26100582239, 1.31579308552, 1.37267323862, 1.43170799197, 1.49296068305, 1.55649774618, 1.62238714095, 1.69069818816, 1.76150240417, 1.83487373356, 1.9108865664, 1.98961783854, 2.07114569502, 2.15555034638, 2.24291337424, 2.33331777085, 2.42684797079, 2.52359074066, 2.62363595709, 2.72707481109, 2.83399990861, 2.94450514101, 3.05868616147, 3.17664082538, 3.29846876542, 3.4242718105, 3.55415309322, 3.6882173169, 3.82656972202, 3.96931758226, 4.11656816155, 4.26842940251, 4.42501064299, 4.5864223408, 4.75277598835, 4.92418428804, 5.10076045882, 5.28261899173, 5.4698754157, 5.66264627402, 5.86104928203, 6.06518320475, 6.27515102558, 6.49105260195, 6.71298816657, 6.94105437812, 7.17535178721, 7.41600122244, 7.66311893977, 7.91682333066, 8.17723700028, 8.4444820986, 8.71868351581, 9.0000673324, 9.28876402008, 9.58490458999, 9.88862174246, 10.2000579979, 10.51935575518, 10.84666016335, 11.18211756586, 11.52587635293, 11.87808796853, 12.23889608149, 12.60844747444, 12.98688402434, 13.37435160844, 13.77100063214, 14.17698579477, 14.59246580918, 15.01760421255, 15.45256965415, 15.8975345759, 16.35267566164, 16.81817551694, 17.29421915993, 17.7809959635, 18.27869859585, 18.78752495817, 19.30767597147, 19.83935565151, 20.38277215918, 20.9381395914, 21.5056779836, 22.0856094403, 22.67815949547, 23.28355628522, 23.90196886475, 24.53360699039, 25.17869687748, 25.83746654876, 26.51014801124, 27.19702206684, 27.89833758372, 28.61436442654, 29.34538337091, 30.09166946658, 30.85350106209, 31.63116345638, 32.42505021271, 33.23546738368, 34.06272551329, 34.90713709841, 35.76891965564, 36.64839379682, 37.5457849187, 38.46142146445, 39.39553655162, 40.34836696144, 41.32015392095, 42.31114256673, 43.32158189679, 44.35172478546, 45.40182806548, 46.47215160914, 47.56305988229, 48.67492160942, 49.80811807205, 50.96203117367, 52.13704257199, 53.33353457174, 54.55189280998, 55.79251410179, 57.0558966952, 58.34244243642, 59.65255474472, 60.98664188048, 62.34511674488, 63.72839955115, 65.13691168128, 66.57107771235, 68.03131757303, 69.51805561048, 71.03171803738, 72.5727393433, 74.14155106191, 75.73860087756, 77.36433290943, 79.01920803511, 80.70369046603, 82.41824707018, 84.16335129656, 85.93948792873, 87.74714652239, 89.5868266205, 91.4590390141, 93.36430373874, 95.30314059089, 97.2760773665, 99.28364803934, 101.32639016186, 103.40484551138, 105.51955745196, 107.6710729792, 109.85994247551, 112.08671850125, 114.35200547029, 116.65639626338, 119.00049449852, 121.38491564998, 123.80898863617, 126.27334707436, 128.77864700057, 131.32565651586, 133.91515206981, 136.5479261596, 139.22477382216, 141.94649234857, 144.71388107936, 147.52774136934, 150.38887640478, 153.29810339947, 156.25624209591, 159.26411516001, 162.32254924738, 165.43237588365, 168.59443217036, 171.80956965451, 175.07865239105, 178.40255651916, 181.78216399071, 185.21836108846, 188.71203876527, 192.26410190535, 195.87546875084, 199.54706979603, 203.2798403328, 207.07471966555, 210.93265147575, 214.85458296336, 218.84146316279, 222.89424792193, 227.01389853965, 231.20147985474, 235.45806950299, 239.78474932029, 244.1826038318, 248.65272991051, 253.19623862663, 257.81423868846, 262.50785002981, 267.27819129596, 272.12648753238, 277.05396266184, 282.06184497676, 287.1513689408, 292.32378036577, 297.58032737672, 302.9222625906, 308.35084930353, 313.86735160538, 319.47303378567, 325.1691653155, 330.95702206772, 336.83788737229, 342.81304592072, 348.88378909873, 355.05141017904, 361.3172036545, 367.6824707106, 374.14852033621, 380.71666611364, 387.38822002364, 394.16450148818, 401.0468352697, 408.03654050228, 415.13493774888, 422.34335010617, 429.66311029193, 437.09555627264, 444.64193563919, 452.28349942426, 460.06371720811, 467.92386008779, 475.88589073004, 483.95116738914, 492.12097761048, 500.49652758252, 508.97903828383, 517.56973680584, 526.27096056342, 535.08395563919, 544.0099712613, 553.04926189916, 562.20218731118, 571.46995648821, 580.85387413665, 590.35525946894, 599.97544078564, 609.71575775466, 619.57755866164, 629.56218732896, 639.67098485273, 649.90529517565, 660.26646876542, 670.75685859737, 681.37882260654, 692.13473060058, 703.02705359733, 714.05825248185, 725.22989010636, 736.5435422896, 748.00089201502, 759.60362947701, 771.35345717366, 783.25108422509, 795.30823868615, 807.52665809786, 819.90799757656, 832.45391901358, 845.16599763262, 858.04581457117, 871.0949539369, 884.31499539055, 897.70752839958, 911.27415494291, 925.0164899557, 938.93616694939, 953.03483325656, 967.3141444391, 981.77576831411, 996.42142273656, 1011.25283461247, 1026.27173620958, 1041.47986068278, 1056.879, 1072.47055979, 1088.25624792, 1104.23775953, 1120.41680193, 1136.79512398, 1153.37449629, 1170.15668984, 1187.14352003, 1204.33678083, 1221.73826079, 1239.35035255, 1257.17466249, 1275.21280385, 1293.46640578, 1311.93709669, 1330.62651475, 1349.53630256, 1368.66810243, 1388.0235552, 1407.60430549, 1427.41199348, 1447.44826607, 1467.71487858, 1488.2135899, 1508.94616223, 1529.91437170, 1551.11998595, 1572.56476369, 1594.25056521, 1616.17924888, 1638.3526845, 1660.77271457, 1683.44119629, 1706.36001217, 1729.53104515, 1752.95617391, 1776.63720295, 1800.57602802, 1824.77452608, 1849.23469954, 1873.9584283, 1898.94758652, 1924.20399187, 1949.72951939, 1975.52605385, 2001.59556522, 2027.93593621, 2054.54904083, 2081.43676739, 2108.60100877, 2136.04366657, 2163.76664461, 2191.77184855, 2220.06114155, 2248.63640245, 2277.49950528, 2306.65033054, 2336.08975775, 2365.81966147, 2395.84202392, 2426.15873519, 2456.77169974, 2487.68283109, 2518.89399858, 2550.40708545, 2582.22397087, 2614.34653664, 2646.77666815, 2679.51625503, 2712.56722160, 2745.93148679, 2779.61100274, 2813.60775898, 2847.92375898, 2882.56102558, 2917.52158864, 2952.80749429, 2988.4208226, 3024.36366147, 3060.63810151, 3097.24623519, 3134.19016147, 3171.47198357, 3209.09380963, 3247.05775796, 3285.36595036, 3324.01970282, 3363.0203387, 3402.36979387, 3442.07010637, 3482.12328109, 3522.53127814, 3563.30609322, 3604.44971935, 3645.96417199, 3687.85145882, 3730.11357546, 3772.75253856, 3815.77038106, 3859.16912385, 3902.95079674, 3947.11746054, 3991.6711516, 4036.61390191, 4081.9477997, 4127.67497938, 4173.79758659, 4220.31776612, 4267.23766446, 4314.55940911, 4362.28512476, 4410.4169796, 4458.95697778, 4507.90715125, 4557.26955036, 4607.04620023, 4657.23920959, 4707.85060149, 4758.88235368, 4810.33649989, 4862.21501513, 4914.51987865, 4967.25308256, 5020.41662497, 5074.01252778, 5128.04279998, 5182.50943623, 5237.41443284, 5292.76010151, 5348.54848054, 5404.78168446, 5461.46187372, 5518.59124505, 5576.17198357, 5634.20645604, 5692.69687748, 5751.64551158, 5811.05465634, 5870.92661474, 5931.26369998, 5992.06822465, 6053.34247383, 6115.08882041, 6177.30960565, 6240.00713067, 6303.18378858, 6366.84196947, 6430.98399542, 6495.61226875, 6560.72914155, 6626.33694083, 6692.43798959, 6759.03460666, 6826.12899748, 6893.72351442, 6961.82051684, 7030.42234083, 7099.53136913, 7169.14995036, 7239.28040833, 7309.9250754, 7381.08630764, 7452.76646189, 7524.96799543, 7597.69333533, 7670.94498924, 7744.72545802, 7819.03723328, 7893.88283109, 7969.26479998, 8045.18575036, 8121.64835384, 8198.65499898, 8276.20815126, 8354.31032333, 8432.96489959, 8512.17439989, 8591.94136932, 8672.26839346, 8753.15809759, 8834.61307613, 8916.63588737, 8999.22894083, 9082.39460979, 9166.13524855, 9250.45308874, 9335.35034889, 9420.82907542, 9506.89136932, 9593.53934336, 9680.77503689, 9768.60049479, 9857.01777782, 9946.02901353, 10035.63630256, 10125.84173913, 10307.72895652, 10398.92205778, 10490.69755655, 10583.05739989, 10675.99355673, 10769.50800814, 10863.59673752, 10958.26173913, 11053.50495882, 11149.32832896, 11245.73379687, 11342.72333505, 11440.29895351, 11538.46266147, 11637.21639352, 11736.56214455, 11836.5019019, 11937.03767391, 12038.17147855, 12139.90531998, 12242.24126101, 12345.18128997, 12448.72739387, 12552.88158332, 12657.64585567, 12763.02223899, 12869.01273997, 12975.61934336, 13082.84400298, 13190.68864461, 13299.15525626, 13408.24578114, 13517.96213998, 13628.30616147, 13739.28010151, 13850.88602558, 13963.12601979, 14075.99894083, 14189.50766147, 14303.65415483, 14418.44038545, 14533.86835328, 14649.93988604, 14766.65689974, 14884.02139989, 15002.03525626, 15120.6994796, 15239.08383305, 15358.10025206, 15477.75066147, 15598.03704083, 15718.96135305, 15840.52554245, 15962.73158333, 16085.58145712, 16209.07714636, 16333.21066147, 16457.98399543, 16583.39913043, 16709.45805364, 16836.16270892, 16963.51508892, 17091.5170754, 17220.17066815, 17349.47575036, 17479.43431628, 17610.04826353, 17741.31947661, 17873.24982674, 18005.84128997, 18139.09593621, 18273.01579512, 18407.60288864, 18542.85923924, 18678.78688737, 18815.3878296, 18952.66405998, 19090.61759543, 19229.25043592, 19368.56456041, 19508.56193505, 19649.24458892, 19790.61452711, 19932.67389855, 20075.42466147, 20218.86894083, 20362.99862688, 20507.81575036, 20653.32233284, 20799.52044612, 20946.41215565, 21093.99951604, 21242.28458996, 21391.26945565, 21540.9561864, 21691.34685036, 21842.44357546, 21994.24843995, 22146.76356041, 22300.00096081, 22453.96263595, 22608.65064531, 22764.06709759, 22920.21398979, 23077.09339954, 23234.70732465, 23393.05777782, 23552.14674754, 23711.97619998, 23872.54807572, 24033.86431997, 24195.92700505, 24358.73809793, 24522.3000298, 24686.61479855, 24851.68443284, 25017.51086041, 25184.09600179, 25351.44185802, 25519.55042898, 25688.42371442, 25858.06371442, 26028.47240243, 26199.65175036, 26371.60375796, 26544.33036545, 26717.83350535, 26892.11516036, 27067.17732465, 27243.02193505, 27419.65104083, 27597.06666147, 27775.27076739, 27954.26543995, 28134.05266147, 28314.63439954, 28496.01252778, 28678.18903505, 28861.16694939, 29044.94825626, 29229.53505278, 29414.93144243, 29601.14083325, 29788.16524308, 29975.99664461, 30164.63704083, 30354.08846147, 30544.35292345, 30735.43248384, 30927.32915802, 31120.04494292, 31313.58189998, 31507.94202392, 31703.12739954, 31899.14010151, 32095.98219998, 32293.65583325, 32492.16309789, 32691.5059635, 32891.68656041, 33092.70685036, 33294.56881474, 33497.27453638, 33700.82613043, 33905.22567408, 34110.47525626, 34316.57700877, 34523.53298954, 34731.34526615, 34940.01594535, 35149.54710151, 35359.94086954, 35571.19935036, 35783.32467101, 35996.31902435, 36210.18447661, 36424.92315778, 36640.53723328, 36857.02888737, 37074.39029465, 37292.62367391, 37511.73104083, 37731.71445565, 37952.57605350, 38174.31792345, 38396.94215778, 38620.45084979, 38844.84605036, 39070.1300018, 39296.30485565, 39523.37279674, 39751.33604083, 39980.19664461, 40209.95679998, 40440.61868874, 40672.18447661, 40904.65626353, 41138.03615135, 41372.32626101, 41607.52865954, 41843.64540833, 42080.67857546, 42318.63023924, 42557.5024855, 42797.29740243, 43038.0170018, 43279.66333505, 43522.2384283, 43765.74443995, 44010.18349543, 44255.55767399, 44501.86908335, 44749.12000000];

globals.currentStep = 0;
  globals.consecutiveLosses = 0;
  globals.totalProfit = 0;

  globals.getBet = (win) => {
    const currentBet = globals.baseBet * globals.multiplierSequence[globals.currentStep];
    globals.betCount = (globals.betCount || 0) + 1;
    globals.totalBet = (globals.totalBet || 0) + currentBet;
    globals.highestBet = Math.max(globals.highestBet || 0, currentBet);
    console.log(`📈 BET #${globals.betCount}: ${currentBet.toFixed(8)} | Highest: ${globals.highestBet.toFixed(8)} | Total bet: ${globals.totalBet.toFixed(8)} LTC`); // Keep this verbose log

    if (win) {
      const winAmount = globals.baseBet * globals.multiplierSequence[globals.currentStep] * (100 / globals.fixedChance - 1);
      globals.totalProfit += winAmount;
      globals.consecutiveLosses = 0;
      globals.currentStep = 0;
      console.log(`✅ WIN | Total profit: ${globals.totalProfit.toFixed(8)} LTC`); // Keep win log
    } else {
      globals.consecutiveLosses++;
      globals.totalProfit -= currentBet;
      globals.currentStep = Math.min(globals.currentStep + 1, globals.multiplierSequence.length - 1);
      console.log(`❌ LOSS | Consecutive losses: ${globals.consecutiveLosses}`); // Keep loss log
    }

    if (globals.consecutiveLosses >= globals.maxLosses) {
      console.log("🛑 STOP LOSS: Maximum consecutive losses reached! System stopped for protection."); // Keep stop loss message
      printFinalStats();
      stop();
      return;
    }

    if (globals.totalProfit >= globals.targetProfit) {
      console.log(`🏆 STOP GAIN: Target profit reached! Profit of ${globals.totalProfit.toFixed(7)} LTC.`); // Keep stop gain message
      printFinalStats();
      stop();
      return;
    }

    return currentBet.toFixed(8);
  };

  function printFinalStats() {
    console.log(`🔚 FINAL STATS:\n📊 Bets: ${globals.betCount}\n💰 Total Bet: ${globals.totalBet.toFixed(8)} LTC\n📈 Highest Bet: ${globals.highestBet.toFixed(8)} LTC\n📉 Net Profit: ${globals.totalProfit.toFixed(8)} LTC\n`); // Keep final stats
  }
}

bet = {
  betAmount: globals.getBet(lastBetResult && lastBetResult.win),
  chance: globals.fixedChance,
  type: globals.betType
};